# Sales Agents Database System

## Database Schema

### 1. AGENTS Table
```sql
CREATE TABLE IF NOT EXISTS "AGENTS" (
    "AGENT_CODE" CHAR(6) NOT NULL PRIMARY KEY CHECK(LENGTH(AGENT_CODE) = 4),
    "AGENT_NAME" CHAR(40) NOT NULL CHECK(TRIM(AGENT_NAME) <> ''),
    "WORKING_AREA" CHAR(35) NOT NULL,
    "COMMISSION" NUMERIC(10,2) CHECK(COMMISSION BETWEEN 0.10 AND 0.20),
    "PHONE_NO" CHAR(15) UNIQUE NOT NULL,
    "COUNTRY" VARCHAR(25) DEFAULT 'Unknown'
);
```

### 2. CUSTOMER Table
```sql
CREATE TABLE IF NOT EXISTS "CUSTOMER" (
    "CUST_CODE" VARCHAR(6) NOT NULL PRIMARY KEY CHECK(CUST_CODE LIKE 'C%'),
    "CUST_NAME" VARCHAR(40) NOT NULL CHECK(LENGTH(CUST_NAME) >= 3),
    "CUST_CITY" CHAR(35),
    "WORKING_AREA" VARCHAR(35) NOT NULL,
    "CUST_COUNTRY" VARCHAR(20) NOT NULL,
    "GRADE" NUMERIC CHECK(GRADE BETWEEN 0 AND 5),
    "OPENING_AMT" NUMERIC(12,2) NOT NULL CHECK(OPENING_AMT >= 0),
    "RECEIVE_AMT" NUMERIC(12,2) NOT NULL CHECK(RECEIVE_AMT >= 0),
    "PAYMENT_AMT" NUMERIC(12,2) NOT NULL CHECK(PAYMENT_AMT >= 0),
    "OUTSTANDING_AMT" NUMERIC(12,2) NOT NULL CHECK(OUTSTANDING_AMT >= 0),
    "PHONE_NO" VARCHAR(17) NOT NULL UNIQUE,
    "AGENT_CODE" CHAR(6) NOT NULL REFERENCES "AGENTS",
    CHECK(OUTSTANDING_AMT = OPENING_AMT + RECEIVE_AMT - PAYMENT_AMT)
);
```

### 3. ORDERS Table
```sql
CREATE TABLE IF NOT EXISTS "ORDERS" (
    "ORD_NUM" NUMERIC(6,0) NOT NULL PRIMARY KEY CHECK(ORD_NUM BETWEEN 200100 AND 299999),
    "ORD_AMOUNT" NUMERIC(12,2) NOT NULL CHECK(ORD_AMOUNT > 0),
    "ADVANCE_AMOUNT" NUMERIC(12,2) NOT NULL CHECK(ADVANCE_AMOUNT <= ORD_AMOUNT),
    "ORD_DATE" DATE NOT NULL CHECK(ORD_DATE BETWEEN '2008-01-01' AND '2008-12-31'),
    "CUST_CODE" VARCHAR(6) NOT NULL REFERENCES "CUSTOMER",
    "AGENT_CODE" CHAR(6) NOT NULL REFERENCES "AGENTS",
    "ORD_DESCRIPTION" VARCHAR(60) NOT NULL CHECK(ORD_DESCRIPTION IN ('SOD', 'SPECIAL'))
);
```

## Installation Guide
### Create database
```sql
sqlite3 sales_db.db
```

### Initialize schema
```sql
sqlite3 sales_db.db < scheme.sql
```

### Import data
```sql
sqlite3 sales_db.db < data_import.sql
```

## Data Validation
```sql
-- Check foreign key constraints
PRAGMA foreign_key_check;

-- Verify data integrity
PRAGMA integrity_check;

-- Validate record counts
SELECT 
    (SELECT COUNT(*) FROM AGENTS) AS agents_count,
    (SELECT COUNT(*) FROM CUSTOMER) AS customers_count,
    (SELECT COUNT(*) FROM ORDERS) AS orders_count;
```