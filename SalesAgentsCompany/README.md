# Sales Agents Database System

## Explanation

This repository contains the automated generation of a report that briefly analyzes the sales of a multinational company. The report generation process includes creating a database with SQLite3, data extraction, graph creation, and report compilation using LaTeX. The report is located in the `report.pdf` file, which can be generated by cloning the repository and running the `make` command within the repository folder.

## Database Schema

### 1. AGENTS Table
```sql
"AGENT_CODE" CHAR(6) NOT NULL PRIMARY KEY CHECK(LENGTH(AGENT_CODE) = 4),
"AGENT_NAME" CHAR(40) NOT NULL CHECK(TRIM(AGENT_NAME) <> ''),
"WORKING_AREA" CHAR(35) NOT NULL,
"COMMISSION" NUMERIC(10,2) CHECK(COMMISSION BETWEEN 0.10 AND 0.20),
"PHONE_NO" CHAR(15) UNIQUE NOT NULL,
"COUNTRY" VARCHAR(25) DEFAULT 'Unknown'
```

### 2. CUSTOMER Table
```sql
"CUST_CODE" VARCHAR(6) NOT NULL PRIMARY KEY CHECK(CUST_CODE LIKE 'C%'),
"CUST_NAME" VARCHAR(40) NOT NULL CHECK(LENGTH(CUST_NAME) >= 3),
"CUST_CITY" CHAR(35),
"WORKING_AREA" VARCHAR(35) NOT NULL,
"CUST_COUNTRY" VARCHAR(20) NOT NULL,
"GRADE" NUMERIC CHECK(GRADE BETWEEN 0 AND 5),
"OPENING_AMT" NUMERIC(12,2) NOT NULL CHECK(OPENING_AMT >= 0),
"RECEIVE_AMT" NUMERIC(12,2) NOT NULL CHECK(RECEIVE_AMT >= 0),
"PAYMENT_AMT" NUMERIC(12,2) NOT NULL CHECK(PAYMENT_AMT >= 0),
"OUTSTANDING_AMT" NUMERIC(12,2) NOT NULL CHECK(OUTSTANDING_AMT >= 0),
"PHONE_NO" VARCHAR(17) NOT NULL UNIQUE,
"AGENT_CODE" CHAR(6) NOT NULL REFERENCES "AGENTS",
CHECK(OUTSTANDING_AMT = OPENING_AMT + RECEIVE_AMT - PAYMENT_AMT)
```

### 3. ORDERS Table
```sql
"ORD_NUM" NUMERIC(6,0) NOT NULL PRIMARY KEY CHECK(ORD_NUM BETWEEN 200100 AND 299999),
"ORD_AMOUNT" NUMERIC(12,2) NOT NULL CHECK(ORD_AMOUNT > 0),
"ADVANCE_AMOUNT" NUMERIC(12,2) NOT NULL CHECK(ADVANCE_AMOUNT <= ORD_AMOUNT),
"ORD_DATE" DATE NOT NULL CHECK(ORD_DATE BETWEEN '2008-01-01' AND '2008-12-31'),
"CUST_CODE" VARCHAR(6) NOT NULL REFERENCES "CUSTOMER",
"AGENT_CODE" CHAR(6) NOT NULL REFERENCES "AGENTS",
"ORD_DESCRIPTION" VARCHAR(60) NOT NULL CHECK(ORD_DESCRIPTION IN ('SOD', 'SPECIAL'))
```

## Software used

- GNU Make 4.3
- lualatex 1.17.0
- Gnuplot 6.0
- SQLite 3.45.1